<div class="landing-page-container">
  <div class="main-layout-row">
    <!-- Sidebar (left, full height) -->
    <aside class="sidebar custom-sidebar collapsible-sidebar" [class.collapsed]="sidebarCollapsed">
      <button class="sidebar-toggle" (click)="toggleSidebar()" type="button">
        <i class="bi" [class.bi-chevron-left]="!sidebarCollapsed" [class.bi-chevron-right]="sidebarCollapsed"></i>
      </button>
      <div class="sidebar-header" *ngIf="!sidebarCollapsed">
        <h3>Catégories</h3>
      </div>
      
      <ul>
        <li>
          <button>
            <i class="bi bi-phone"></i> 
            <span *ngIf="!sidebarCollapsed">Téléphone & Tablette</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-tv"></i> 
            <span *ngIf="!sidebarCollapsed">TV & HIGH TECH</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-laptop"></i> 
            <span *ngIf="!sidebarCollapsed">Informatique</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-house-door"></i> 
            <span *ngIf="!sidebarCollapsed">Maison, cuisine & bureau</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-lightning"></i> 
            <span *ngIf="!sidebarCollapsed">Électroménager</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-bag"></i> 
            <span *ngIf="!sidebarCollapsed">Vêtements & Chaussures</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-heart"></i> 
            <span *ngIf="!sidebarCollapsed">Beauté & Santé</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-controller"></i> 
            <span *ngIf="!sidebarCollapsed">Jeux vidéos & Consoles</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-shop"></i> 
            <span *ngIf="!sidebarCollapsed">Supermarché</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-bicycle"></i> 
            <span *ngIf="!sidebarCollapsed">Sports & Loisirs</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-baby"></i> 
            <span *ngIf="!sidebarCollapsed">Bébé & Jouets</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-three-dots"></i> 
            <span *ngIf="!sidebarCollapsed">Autres catégories</span>
          </button>
        </li>
      </ul>
    </aside>

    <!-- Main content (right) -->
    <div class="main-content">
      <!-- Hero Section with Carousel -->
      <section class="hero-section">
        <div class="hero-content">
          <div class="hero-text">
            <h1>Découvrez nos meilleures offres</h1>
            <p>Trouvez les produits de vos marques préférées au meilleur prix</p>
          </div>
          <div class="landing-carousel">
            <button class="carousel-btn prev-btn" (click)="prevImage()" aria-label="Précédent">
              <i class="bi bi-chevron-left"></i>
            </button>
            <div class="carousel-container">
              <img [src]="carouselImages[carouselIndex]" [alt]="'Image ' + (carouselIndex + 1)" class="carousel-img" />
              <div class="carousel-indicators">
                <span *ngFor="let img of carouselImages; let i = index" 
                      class="indicator" 
                      [class.active]="i === carouselIndex"
                      (click)="goToImage(i)"></span>
              </div>
            </div>
            <button class="carousel-btn next-btn" (click)="nextImage()" aria-label="Suivant">
              <i class="bi bi-chevron-right"></i>
            </button>
          </div>
        </div>
      </section>

      <!-- Stores Section -->
      <section class="magasins-section">
        <div class="section-header">
          <h2><i class="bi bi-shop"></i> Nos Magasins Partenaires</h2>
          <div class="search-container">
            <input type="text" class="magasin-search" placeholder="Rechercher un magasin..."/>
            <i class="bi bi-search search-icon"></i>
          </div>
        </div>
        <div class="magasins-carousel">
          <div class="magasins-list-scroll">
            <div class="magasin-item">
              <div class="magasin-img">
                <img src="assets/images/pullbear.jpg" alt="Pull&Bear" class="magasin-img-circular"/>
              </div>
              <div class="magasin-name">PULL&BEAR</div>
            </div>
            <div class="magasin-item">
              <div class="magasin-img">
                <img src="assets/images/decathlon.jpg" alt="Decathlon" class="magasin-img-circular"/>
              </div>
              <div class="magasin-name">DECATHLON</div>
            </div>
            <div class="magasin-item">
              <div class="magasin-img">
                <img src="assets/images/fnac.jpg" alt="Fnac" class="magasin-img-circular"/>
              </div>
              <div class="magasin-name">Fnac</div>
            </div>
            <div class="magasin-item">
              <div class="magasin-img">
                <img src="assets/images/HM.jpg" alt="H&M" class="magasin-img-circular"/>
              </div>
              <div class="magasin-name">H&M</div>
            </div>
            <div class="magasin-item">
              <div class="magasin-img">
                <img src="assets/images/istyle.jpg" alt="iStyle" class="magasin-img-circular"/>
              </div>
              <div class="magasin-name">ISTYLE</div>
            </div>
            <div class="magasin-item">
              <div class="magasin-img">
                <img src="assets/images/kiabu.jfif" alt="Kiabi" class="magasin-img-circular"/>
              </div>
              <div class="magasin-name">KIABI</div>
            </div>
            <div class="magasin-item">
              <div class="magasin-img">
                <img src="assets/images/lefties.jpg" alt="Lefties" class="magasin-img-circular"/>
              </div>
              <div class="magasin-name">LEFTIES</div>
            </div>
            <div class="magasin-item">
              <div class="magasin-img">
                <img src="assets/images/NESPRESSO.jpg" alt="Nespresso" class="magasin-img-circular"/>
              </div>
              <div class="magasin-name">NESPRESSO</div>
            </div>
            <div class="magasin-item">
              <div class="magasin-img">
                <img src="assets/images/virgin.jpg" alt="Virgin" class="magasin-img-circular"/>
              </div>
              <div class="magasin-name">VIRGIN</div>
            </div>
            <div class="magasin-item">
              <div class="magasin-img">
                <img src="assets/images/principe.jpg" alt="Principe" class="magasin-img-circular"/>
              </div>
              <div class="magasin-name">PRINCIPE</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Products Section -->
      <section class="products-section">
        <div class="section-header">
          <h2><i class="bi bi-grid-3x3-gap"></i> Produits Populaires</h2>
          <div class="search-container">
            <input type="text" class="product-search" placeholder="Rechercher un produit..."/>
            <i class="bi bi-search search-icon"></i>
          </div>
        </div>
        <div class="products-grid">
          <div class="product-item" *ngFor="let product of activeProducts">
            <div class="product-img-container">
              <img 
                [src]="product.image?.imageUrl || 'assets/images/default-product.jpg'" 
                [alt]="product.nom" 
                class="product-img-circular"/>
            </div>
            <div class="product-name">{{ product.nom }}</div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>

