<div class="magazin-page-container">
  <div class="main-layout-row">
    <!-- Sidebar (left, full height) -->
    <aside class="sidebar custom-sidebar collapsible-sidebar" [class.collapsed]="sidebarCollapsed">
      <button class="sidebar-toggle" (click)="toggleSidebar()" type="button">
        <i class="bi" [class.bi-chevron-left]="!sidebarCollapsed" [class.bi-chevron-right]="sidebarCollapsed"></i>
      </button>
      <div class="sidebar-header" *ngIf="!sidebarCollapsed">
        <h3>Filtres</h3>
      </div>
      
      <ul>
        <li>
          <button>
            <i class="bi bi-phone"></i> 
            <span *ngIf="!sidebarCollapsed">Téléphone & Tablette</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-tv"></i> 
            <span *ngIf="!sidebarCollapsed">TV & HIGH TECH</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-laptop"></i> 
            <span *ngIf="!sidebarCollapsed">Informatique</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-house-door"></i> 
            <span *ngIf="!sidebarCollapsed">Maison, cuisine & bureau</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-lightning"></i> 
            <span *ngIf="!sidebarCollapsed">Électroménager</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-bag"></i> 
            <span *ngIf="!sidebarCollapsed">Vêtements & Chaussures</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-heart"></i> 
            <span *ngIf="!sidebarCollapsed">Beauté & Santé</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-controller"></i> 
            <span *ngIf="!sidebarCollapsed">Jeux vidéos & Consoles</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-shop"></i> 
            <span *ngIf="!sidebarCollapsed">Supermarché</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-bicycle"></i> 
            <span *ngIf="!sidebarCollapsed">Sports & Loisirs</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-baby"></i> 
            <span *ngIf="!sidebarCollapsed">Bébé & Jouets</span>
          </button>
        </li>
        <li>
          <button>
            <i class="bi bi-three-dots"></i> 
            <span *ngIf="!sidebarCollapsed">Autres catégories</span>
          </button>
        </li>
      </ul>
    </aside>

    <!-- Main content (right) -->
    <div class="main-content">
      <!-- Header Section -->
      <section class="page-header">
        <div class="header-content">
          <h1><i class="bi bi-shop"></i> Nos Magasins Partenaires</h1>
          <p>Découvrez tous nos magasins partenaires</p>
        </div>
      </section>

      <!-- Magazins Section -->
      <section class="magazins-section">
        <div class="section-header">
          <h2><i class="bi bi-shop"></i> Magasins Disponibles</h2>
          <div class="search-container">
            <input 
              type="text" 
              class="magazin-search" 
              placeholder="Rechercher un magasin..."
              [(ngModel)]="searchTerm"
              (input)="onSearchChange($event)"/>
            <i class="bi bi-search search-icon"></i>
          </div>
        </div>
        <div class="magazins-grid">
          <div class="magazin-item" *ngFor="let magazin of magazins">
            <div class="magazin-img-container">
              <img 
                [src]="magazin.logo || 'assets/images/default-store.jpg'" 
                [alt]="magazin.nameMagazin" 
                class="magazin-img-circular"/>
            </div>
            <div class="magazin-name">{{ magazin.nameMagazin }}</div>
            <div class="magazin-actions">
              <button class="btn btn-primary" (click)="visitStore(magazin)" title="Visiter le magasin">
                <i class="bi bi-shop"></i>
              </button>
              <button class="btn btn-outline" (click)="followStore(magazin)" title="Suivre le magasin">
                <i class="bi bi-heart"></i>
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Pagination Section -->
      <section class="pagination-section" *ngIf="totalPages > 1">
        <nav aria-label="Navigation des pages">
          <ul class="pagination">
            <li class="page-item">
              <button class="page-link" (click)="goToPage(currentPage - 1)">
                <i class="bi bi-chevron-left"></i>
              </button>
            </li>
            <li class="page-item" *ngFor="let page of getPageNumbers()" [class.active]="page === currentPage">
              <button class="page-link" (click)="goToPage(page)">{{ page + 1 }}</button>
            </li>
            <li class="page-item">
              <button class="page-link" (click)="goToPage(currentPage + 1)">
                <i class="bi bi-chevron-right"></i>
              </button>
            </li>
          </ul>
        </nav>
      </section>
    </div>
  </div>
</div>
